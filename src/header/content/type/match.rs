use std::ffi::OsStr;

#[allow(unused)]
pub fn match_self(content_type: &str) -> Option<&'static str> {
    let content_type = match content_type {
        "application/octet-stream" => "application/octet-stream",
        "application/x-001" => "application/x-001",
        "application/x-301" => "application/x-301",
        "text/h323" => "text/h323",
        "application/x-906" => "application/x-906",
        "drawing/907" => "drawing/907",
        "application/x-a11" => "application/x-a11",
        "audio/x-mei-aac" => "audio/x-mei-aac",
        "application/postscript" => "application/postscript",
        "audio/aiff" => "audio/aiff",
        "application/x-anv" => "application/x-anv",
        "text/asa" => "text/asa",
        "video/x-ms-asf" => "video/x-ms-asf",
        "text/asp" => "text/asp",
        "audio/basic" => "audio/basic",
        "video/avi" => "video/avi",
        "application/vnd.adobe.workflow" => "application/vnd.adobe.workflow",
        "text/xml" => "text/xml",
        "application/x-bmp" => "application/x-bmp",
        "application/x-bot" => "application/x-bot",
        "application/x-c4t" => "application/x-c4t",
        "application/x-c90" => "application/x-c90",
        "application/x-cals" => "application/x-cals",
        "application/vnd.ms-pki.seccat" => "application/vnd.ms-pki.seccat",
        "application/x-netcdf" => "application/x-netcdf",
        "application/x-cdr" => "application/x-cdr",
        "application/x-cel" => "application/x-cel",
        "application/x-x509-ca-cert" => "application/x-x509-ca-cert",
        "application/x-g4" => "application/x-g4",
        "application/x-cgm" => "application/x-cgm",
        "application/x-cit" => "application/x-cit",
        "java/*" => "java/*",
        "application/x-cmp" => "application/x-cmp",
        "application/x-cmx" => "application/x-cmx",
        "application/x-cot" => "application/x-cot",
        "application/pkix-crl" => "application/pkix-crl",
        "application/x-csi" => "application/x-csi",
        "text/css" => "text/css",
        "application/x-cut" => "application/x-cut",
        "application/x-dbf" => "application/x-dbf",
        "application/x-dbm" => "application/x-dbm",
        "application/x-dbx" => "application/x-dbx",
        "application/x-dcx" => "application/x-dcx",
        "application/x-dgn" => "application/x-dgn",
        "application/x-dib" => "application/x-dib",
        "application/x-msdownload" => "application/x-msdownload",
        "application/msword" => "application/msword",
        "application/x-drw" => "application/x-drw",
        "application/x-dwf" => "application/x-dwf",
        "application/x-dwg" => "application/x-dwg",
        "application/x-dxb" => "application/x-dxb",
        "application/x-dxf" => "application/x-dxf",
        "application/vnd.adobe.edn" => "application/vnd.adobe.edn",
        "application/x-emf" => "application/x-emf",
        "message/rfc822" => "message/rfc822",
        "application/x-epi" => "application/x-epi",
        "application/x-ebx" => "application/x-ebx",
        "image/fax" => "image/fax",
        "application/vnd.fdf" => "application/vnd.fdf",
        "application/fractals" => "application/fractals",
        "application/x-frm" => "application/x-frm",
        "application/x-gbr" => "application/x-gbr",
        "application/x-" => "application/x-",
        "image/gif" => "image/gif",
        "application/x-gl2" => "application/x-gl2",
        "application/x-gp4" => "application/x-gp4",
        "application/x-hgl" => "application/x-hgl",
        "application/x-hmr" => "application/x-hmr",
        "application/x-hpgl" => "application/x-hpgl",
        "application/x-hpl" => "application/x-hpl",
        "application/mac-binhex40" => "application/mac-binhex40",
        "application/x-hrf" => "application/x-hrf",
        "application/hta" => "application/hta",
        "text/x-component" => "text/x-component",
        "text/html" => "text/html",
        "text/webviewhtml" => "text/webviewhtml",
        "application/x-icb" => "application/x-icb",
        "image/x-icon" => "image/x-icon",
        "application/x-iff" => "application/x-iff",
        "application/x-igs" => "application/x-igs",
        "application/x-iphone" => "application/x-iphone",
        "application/x-img" => "application/x-img",
        "application/x-internet-signup" => "application/x-internet-signup",
        "video/x-ivf" => "video/x-ivf",
        "image/jpeg" => "image/jpeg",
        "application/x-javascript" => "application/x-javascript",
        "application/json" => "application/json",
        "audio/x-liquid-file" => "audio/x-liquid-file",
        "application/x-laplayer-reg" => "application/x-laplayer-reg",
        "application/x-latex" => "application/x-latex",
        "audio/x-liquid-secure" => "audio/x-liquid-secure",
        "application/x-lbm" => "application/x-lbm",
        "audio/x-la-lms" => "audio/x-la-lms",
        "application/x-ltr" => "application/x-ltr",
        "video/x-mpeg" => "video/x-mpeg",
        "audio/mpegurl" => "audio/mpegurl",
        "video/mpeg4" => "video/mpeg4",
        "application/x-mac" => "application/x-mac",
        "application/x-troff-man" => "application/x-troff-man",
        "application/x-mdb" => "application/x-mdb",
        "application/x-shockwave-flash" => "application/x-shockwave-flash",
        "application/x-mi" => "application/x-mi",
        "audio/mid" => "audio/mid",
        "application/x-mil" => "application/x-mil",
        "audio/x-musicnet-download" => "audio/x-musicnet-download",
        "audio/x-musicnet-stream" => "audio/x-musicnet-stream",
        "video/x-sgi-movie" => "video/x-sgi-movie",
        "audio/mp1" => "audio/mp1",
        "audio/mp2" => "audio/mp2",
        "video/mpeg" => "video/mpeg",
        "audio/mp3" => "audio/mp3",
        "video/x-mpg" => "video/x-mpg",
        "application/vnd.ms-project" => "application/vnd.ms-project",
        "video/mpg" => "video/mpg",
        "audio/rn-mpeg" => "audio/rn-mpeg",
        "application/x-mmxp" => "application/x-mmxp",
        "image/pnetvue" => "image/pnetvue",
        "application/x-nrf" => "application/x-nrf",
        "text/x-ms-odc" => "text/x-ms-odc",
        "application/x-out" => "application/x-out",
        "application/pkcs10" => "application/pkcs10",
        "application/x-pkcs12" => "application/x-pkcs12",
        "application/x-pkcs7-certificates" => "application/x-pkcs7-certificates",
        "application/pkcs7-mime" => "application/pkcs7-mime",
        "application/x-pkcs7-certreqresp" => "application/x-pkcs7-certreqresp",
        "application/pkcs7-signature" => "application/pkcs7-signature",
        "application/x-pc5" => "application/x-pc5",
        "application/x-pci" => "application/x-pci",
        "application/x-pcl" => "application/x-pcl",
        "application/x-pcx" => "application/x-pcx",
        "application/pdf" => "application/pdf",
        "application/vnd.adobe.pdx" => "application/vnd.adobe.pdx",
        "application/x-pgl" => "application/x-pgl",
        "application/x-pic" => "application/x-pic",
        "application/vnd.ms-pki.pko" => "application/vnd.ms-pki.pko",
        "application/x-perl" => "application/x-perl",
        "audio/scpls" => "audio/scpls",
        "application/x-plt" => "application/x-plt",
        "image/png" => "image/png",
        "application/vnd.ms-powerpoint" => "application/vnd.ms-powerpoint",
        "application/x-ppm" => "application/x-ppm",
        "application/x-pr" => "application/x-pr",
        "application/pics-rules" => "application/pics-rules",
        "application/x-prn" => "application/x-prn",
        "application/x-prt" => "application/x-prt",
        "application/x-ps" => "application/x-ps",
        "application/x-ptn" => "application/x-ptn",
        "text/vnd.rn-realtext3d" => "text/vnd.rn-realtext3d",
        "audio/vnd.rn-realaudio" => "audio/vnd.rn-realaudio",
        "audio/x-pn-realaudio" => "audio/x-pn-realaudio",
        "application/x-ras" => "application/x-ras",
        "application/rat-file" => "application/rat-file",
        "application/vnd.rn-recording" => "application/vnd.rn-recording",
        "application/x-red" => "application/x-red",
        "application/x-rgb" => "application/x-rgb",
        "application/vnd.rn-realsystem-rjs" => "application/vnd.rn-realsystem-rjs",
        "application/vnd.rn-realsystem-rjt" => "application/vnd.rn-realsystem-rjt",
        "application/x-rlc" => "application/x-rlc",
        "application/x-rle" => "application/x-rle",
        "application/vnd.rn-realmedia" => "application/vnd.rn-realmedia",
        "application/vnd.adobe.rmf" => "application/vnd.adobe.rmf",
        "application/vnd.rn-realsystem-rmj" => "application/vnd.rn-realsystem-rmj",
        "application/vnd.rn-rn_music_package" => "application/vnd.rn-rn_music_package",
        "application/vnd.rn-realmedia-secure" => "application/vnd.rn-realmedia-secure",
        "application/vnd.rn-realmedia-vbr" => "application/vnd.rn-realmedia-vbr",
        "application/vnd.rn-realsystem-rmx" => "application/vnd.rn-realsystem-rmx",
        "application/vnd.rn-realplayer" => "application/vnd.rn-realplayer",
        "image/vnd.rn-realpix" => "image/vnd.rn-realpix",
        "audio/x-pn-realaudio-plugin" => "audio/x-pn-realaudio-plugin",
        "application/vnd.rn-rsml" => "application/vnd.rn-rsml",
        "text/vnd.rn-realtext" => "text/vnd.rn-realtext",
        "video/vnd.rn-realvideo" => "video/vnd.rn-realvideo",
        "application/x-sam" => "application/x-sam",
        "application/x-sat" => "application/x-sat",
        "application/sdp" => "application/sdp",
        "application/x-sdw" => "application/x-sdw",
        "application/x-stuffit" => "application/x-stuffit",
        "application/x-slb" => "application/x-slb",
        "application/x-sld" => "application/x-sld",
        "drawing/x-slk" => "drawing/x-slk",
        "application/smil" => "application/smil",
        "application/x-smk" => "application/x-smk",
        "text/plain" => "text/plain",
        "application/futuresplash" => "application/futuresplash",
        "application/streamingmedia" => "application/streamingmedia",
        "application/vnd.ms-pki.certstore" => "application/vnd.ms-pki.certstore",
        "application/vnd.ms-pki.stl" => "application/vnd.ms-pki.stl",
        "application/x-sty" => "application/x-sty",
        "application/x-tdf" => "application/x-tdf",
        "application/x-tg4" => "application/x-tg4",
        "application/x-tga" => "application/x-tga",
        "image/tiff" => "image/tiff",
        "drawing/x-top" => "drawing/x-top",
        "application/x-bittorrent" => "application/x-bittorrent",
        "application/x-icq" => "application/x-icq",
        "text/iuls" => "text/iuls",
        "text/x-vcard" => "text/x-vcard",
        "application/x-vda" => "application/x-vda",
        "application/vnd.visio" => "application/vnd.visio",
        "application/x-vpeg005" => "application/x-vpeg005",
        "audio/wav" => "audio/wav",
        "audio/x-ms-wax" => "audio/x-ms-wax",
        "application/x-wb1" => "application/x-wb1",
        "application/x-wb2" => "application/x-wb2",
        "application/x-wb3" => "application/x-wb3",
        "image/vnd.wap.wbmp" => "image/vnd.wap.wbmp",
        "application/x-wk3" => "application/x-wk3",
        "application/x-wk4" => "application/x-wk4",
        "application/x-wkq" => "application/x-wkq",
        "application/x-wks" => "application/x-wks",
        "video/x-ms-wm" => "video/x-ms-wm",
        "audio/x-ms-wma" => "audio/x-ms-wma",
        "application/x-ms-wmd" => "application/x-ms-wmd",
        "application/x-wmf" => "application/x-wmf",
        "text/vnd.wap.wml" => "text/vnd.wap.wml",
        "video/x-ms-wmv" => "video/x-ms-wmv",
        "video/x-ms-wmx" => "video/x-ms-wmx",
        "application/x-ms-wmz" => "application/x-ms-wmz",
        "application/x-wp6" => "application/x-wp6",
        "application/x-wpd" => "application/x-wpd",
        "application/x-wpg" => "application/x-wpg",
        "application/vnd.ms-wpl" => "application/vnd.ms-wpl",
        "application/x-wq1" => "application/x-wq1",
        "application/x-wr1" => "application/x-wr1",
        "application/x-wri" => "application/x-wri",
        "application/x-wrk" => "application/x-wrk",
        "application/x-ws" => "application/x-ws",
        "text/scriptlet" => "text/scriptlet",
        "video/x-ms-wvx" => "video/x-ms-wvx",
        "application/vnd.adobe.xdp" => "application/vnd.adobe.xdp",
        "application/vnd.adobe.xfd" => "application/vnd.adobe.xfd",
        "application/vnd.adobe.xfdf" => "application/vnd.adobe.xfdf",
        "application/x-xls" => "application/x-xls",
        "application/x-xlw" => "application/x-xlw",
        "application/x-xwd" => "application/x-xwd",
        "application/x-x_b" => "application/x-x_b",
        "application/vnd.symbian.install" => "application/vnd.symbian.install",
        "application/x-x_t" => "application/x-x_t",
        "application/vnd.iphone" => "application/vnd.iphone",
        "application/vnd.android.package-archive" => "application/vnd.android.package-archive",
        "application/x-silverlight-app" => "application/x-silverlight-app",
        _ => "",
    };
    if content_type.is_empty() {
        None
    } else {
        Some(content_type)
    }
}

pub fn from_extension(ext: Option<impl AsRef<OsStr>>) -> Option<&'static str> {
    let extension = ext?.as_ref().to_string_lossy().to_string();
    let extension = if extension.starts_with('.') {
        extension
    } else {
        format!(".{}", extension)
    };
    let content_type = match extension.as_str() {
        ".*" => "application/octet-stream",
        ".001" => "application/x-001",
        ".301" => "application/x-301",
        ".323" => "text/h323",
        ".906" => "application/x-906",
        ".907" => "drawing/907",
        ".a11" => "application/x-a11",
        ".acp" => "audio/x-mei-aac",
        ".ai" => "application/postscript",
        ".aif" => "audio/aiff",
        ".aifc" => "audio/aiff",
        ".aiff" => "audio/aiff",
        ".anv" => "application/x-anv",
        ".asa" => "text/asa",
        ".asf" => "video/x-ms-asf",
        ".asp" => "text/asp",
        ".asx" => "video/x-ms-asf",
        ".au" => "audio/basic",
        ".avi" => "video/avi",
        ".awf" => "application/vnd.adobe.workflow",
        ".biz" => "text/xml",
        ".bmp" => "application/x-bmp",
        ".bot" => "application/x-bot",
        ".c4t" => "application/x-c4t",
        ".c90" => "application/x-c90",
        ".cal" => "application/x-cals",
        ".cat" => "application/vnd.ms-pki.seccat",
        ".cdf" => "application/x-netcdf",
        ".cdr" => "application/x-cdr",
        ".cel" => "application/x-cel",
        ".cer" => "application/x-x509-ca-cert",
        ".cg4" => "application/x-g4",
        ".cgm" => "application/x-cgm",
        ".cit" => "application/x-cit",
        ".class" => "java/*",
        ".cml" => "text/xml",
        ".cmp" => "application/x-cmp",
        ".cmx" => "application/x-cmx",
        ".cot" => "application/x-cot",
        ".crl" => "application/pkix-crl",
        ".crt" => "application/x-x509-ca-cert",
        ".csi" => "application/x-csi",
        ".css" => "text/css",
        ".cut" => "application/x-cut",
        ".dbf" => "application/x-dbf",
        ".dbm" => "application/x-dbm",
        ".dbx" => "application/x-dbx",
        ".dcd" => "text/xml",
        ".dcx" => "application/x-dcx",
        ".der" => "application/x-x509-ca-cert",
        ".dgn" => "application/x-dgn",
        ".dib" => "application/x-dib",
        ".dll" => "application/x-msdownload",
        ".doc" => "application/msword",
        ".dot" => "application/msword",
        ".drw" => "application/x-drw",
        ".dtd" => "text/xml",
        ".dwf" => "application/x-dwf",
        ".dwg" => "application/x-dwg",
        ".dxb" => "application/x-dxb",
        ".dxf" => "application/x-dxf",
        ".edn" => "application/vnd.adobe.edn",
        ".emf" => "application/x-emf",
        ".eml" => "message/rfc822",
        ".ent" => "text/xml",
        ".epi" => "application/x-epi",
        ".eps" => "application/postscript",
        ".etd" => "application/x-ebx",
        ".exe" => "application/x-msdownload",
        ".fax" => "image/fax",
        ".fdf" => "application/vnd.fdf",
        ".fif" => "application/fractals",
        ".fo" => "text/xml",
        ".frm" => "application/x-frm",
        ".g4" => "application/x-g4",
        ".gbr" => "application/x-gbr",
        "." => "application/x-",
        ".gif" => "image/gif",
        ".gl2" => "application/x-gl2",
        ".gp4" => "application/x-gp4",
        ".hgl" => "application/x-hgl",
        ".hmr" => "application/x-hmr",
        ".hpg" => "application/x-hpgl",
        ".hpl" => "application/x-hpl",
        ".hqx" => "application/mac-binhex40",
        ".hrf" => "application/x-hrf",
        ".hta" => "application/hta",
        ".htc" => "text/x-component",
        ".htm" => "text/html",
        ".html" => "text/html",
        ".htt" => "text/webviewhtml",
        ".htx" => "text/html",
        ".icb" => "application/x-icb",
        ".ico" => "image/x-icon",
        ".iff" => "application/x-iff",
        ".ig4" => "application/x-g4",
        ".igs" => "application/x-igs",
        ".iii" => "application/x-iphone",
        ".img" => "application/x-img",
        ".ins" => "application/x-internet-signup",
        ".isp" => "application/x-internet-signup",
        ".IVF" => "video/x-ivf",
        ".java" => "java/*",
        ".jfif" => "image/jpeg",
        ".jpe" => "image/jpeg",
        ".jpeg" => "image/jpeg",
        ".jpg" => "image/jpeg",
        ".js" => "application/x-javascript",
        ".jsp" => "text/html",
        ".json" => "application/json",
        ".la1" => "audio/x-liquid-file",
        ".lar" => "application/x-laplayer-reg",
        ".latex" => "application/x-latex",
        ".lavs" => "audio/x-liquid-secure",
        ".lbm" => "application/x-lbm",
        ".lmsff" => "audio/x-la-lms",
        ".ls" => "application/x-javascript",
        ".ltr" => "application/x-ltr",
        ".m1v" => "video/x-mpeg",
        ".m2v" => "video/x-mpeg",
        ".m3u" => "audio/mpegurl",
        ".m4e" => "video/mpeg4",
        ".mac" => "application/x-mac",
        ".man" => "application/x-troff-man",
        ".math" => "text/xml",
        ".mdb" => "application/x-mdb",
        ".mfp" => "application/x-shockwave-flash",
        ".mht" => "message/rfc822",
        ".mhtml" => "message/rfc822",
        ".mi" => "application/x-mi",
        ".mid" => "audio/mid",
        ".midi" => "audio/mid",
        ".mil" => "application/x-mil",
        ".mml" => "text/xml",
        ".mnd" => "audio/x-musicnet-download",
        ".mns" => "audio/x-musicnet-stream",
        ".mocha" => "application/x-javascript",
        ".movie" => "video/x-sgi-movie",
        ".mp1" => "audio/mp1",
        ".mp2" => "audio/mp2",
        ".mp2v" => "video/mpeg",
        ".mp3" => "audio/mp3",
        ".mp4" => "video/mpeg4",
        ".mpa" => "video/x-mpg",
        ".mpd" => "application/vnd.ms-project",
        ".mpe" => "video/x-mpeg",
        ".mpeg" => "video/mpg",
        ".mpg" => "video/mpg",
        ".mpga" => "audio/rn-mpeg",
        ".mpp" => "application/vnd.ms-project",
        ".mps" => "video/x-mpeg",
        ".mpt" => "application/vnd.ms-project",
        ".mpv" => "video/mpg",
        ".mpv2" => "video/mpeg",
        ".mpw" => "application/vnd.ms-project",
        ".mpx" => "application/vnd.ms-project",
        ".mtx" => "text/xml",
        ".mxp" => "application/x-mmxp",
        ".net" => "image/pnetvue",
        ".nrf" => "application/x-nrf",
        ".nws" => "message/rfc822",
        ".odc" => "text/x-ms-odc",
        ".out" => "application/x-out",
        ".p10" => "application/pkcs10",
        ".p12" => "application/x-pkcs12",
        ".p7b" => "application/x-pkcs7-certificates",
        ".p7c" => "application/pkcs7-mime",
        ".p7m" => "application/pkcs7-mime",
        ".p7r" => "application/x-pkcs7-certreqresp",
        ".p7s" => "application/pkcs7-signature",
        ".pc5" => "application/x-pc5",
        ".pci" => "application/x-pci",
        ".pcl" => "application/x-pcl",
        ".pcx" => "application/x-pcx",
        ".pdf" => "application/pdf",
        ".pdx" => "application/vnd.adobe.pdx",
        ".pfx" => "application/x-pkcs12",
        ".pgl" => "application/x-pgl",
        ".pic" => "application/x-pic",
        ".pko" => "application/vnd.ms-pki.pko",
        ".pl" => "application/x-perl",
        ".plg" => "text/html",
        ".pls" => "audio/scpls",
        ".plt" => "application/x-plt",
        ".png" => "image/png",
        ".pot" => "application/vnd.ms-powerpoint",
        ".ppa" => "application/vnd.ms-powerpoint",
        ".ppm" => "application/x-ppm",
        ".pps" => "application/vnd.ms-powerpoint",
        ".ppt" => "application/vnd.ms-powerpoint",
        ".pr" => "application/x-pr",
        ".prf" => "application/pics-rules",
        ".prn" => "application/x-prn",
        ".prt" => "application/x-prt",
        ".ps" => "application/x-ps",
        ".ptn" => "application/x-ptn",
        ".pwz" => "application/vnd.ms-powerpoint",
        ".r3t" => "text/vnd.rn-realtext3d",
        ".ra" => "audio/vnd.rn-realaudio",
        ".ram" => "audio/x-pn-realaudio",
        ".ras" => "application/x-ras",
        ".rat" => "application/rat-file",
        ".rdf" => "text/xml",
        ".rec" => "application/vnd.rn-recording",
        ".red" => "application/x-red",
        ".rgb" => "application/x-rgb",
        ".rjs" => "application/vnd.rn-realsystem-rjs",
        ".rjt" => "application/vnd.rn-realsystem-rjt",
        ".rlc" => "application/x-rlc",
        ".rle" => "application/x-rle",
        ".rm" => "application/vnd.rn-realmedia",
        ".rmf" => "application/vnd.adobe.rmf",
        ".rmi" => "audio/mid",
        ".rmj" => "application/vnd.rn-realsystem-rmj",
        ".rmm" => "audio/x-pn-realaudio",
        ".rmp" => "application/vnd.rn-rn_music_package",
        ".rms" => "application/vnd.rn-realmedia-secure",
        ".rmvb" => "application/vnd.rn-realmedia-vbr",
        ".rmx" => "application/vnd.rn-realsystem-rmx",
        ".rnx" => "application/vnd.rn-realplayer",
        ".rp" => "image/vnd.rn-realpix",
        ".rpm" => "audio/x-pn-realaudio-plugin",
        ".rsml" => "application/vnd.rn-rsml",
        ".rt" => "text/vnd.rn-realtext",
        ".rtf" => "application/msword",
        ".rv" => "video/vnd.rn-realvideo",
        ".sam" => "application/x-sam",
        ".sat" => "application/x-sat",
        ".sdp" => "application/sdp",
        ".sdw" => "application/x-sdw",
        ".sit" => "application/x-stuffit",
        ".slb" => "application/x-slb",
        ".sld" => "application/x-sld",
        ".slk" => "drawing/x-slk",
        ".smi" => "application/smil",
        ".smil" => "application/smil",
        ".smk" => "application/x-smk",
        ".snd" => "audio/basic",
        ".sol" => "text/plain",
        ".sor" => "text/plain",
        ".spc" => "application/x-pkcs7-certificates",
        ".spl" => "application/futuresplash",
        ".spp" => "text/xml",
        ".ssm" => "application/streamingmedia",
        ".sst" => "application/vnd.ms-pki.certstore",
        ".stl" => "application/vnd.ms-pki.stl",
        ".stm" => "text/html",
        ".sty" => "application/x-sty",
        ".svg" => "text/xml",
        ".swf" => "application/x-shockwave-flash",
        ".tdf" => "application/x-tdf",
        ".tg4" => "application/x-tg4",
        ".tga" => "application/x-tga",
        ".tif" => "image/tiff",
        ".tiff" => "image/tiff",
        ".tld" => "text/xml",
        ".top" => "drawing/x-top",
        ".torrent" => "application/x-bittorrent",
        ".tsd" => "text/xml",
        ".txt" => "text/plain",
        ".uin" => "application/x-icq",
        ".uls" => "text/iuls",
        ".vcf" => "text/x-vcard",
        ".vda" => "application/x-vda",
        ".vdx" => "application/vnd.visio",
        ".vml" => "text/xml",
        ".vpg" => "application/x-vpeg005",
        ".vsd" => "application/vnd.visio",
        ".vss" => "application/vnd.visio",
        ".vst" => "application/vnd.visio",
        ".vsw" => "application/vnd.visio",
        ".vsx" => "application/vnd.visio",
        ".vtx" => "application/vnd.visio",
        ".vxml" => "text/xml",
        ".wav" => "audio/wav",
        ".wax" => "audio/x-ms-wax",
        ".wb1" => "application/x-wb1",
        ".wb2" => "application/x-wb2",
        ".wb3" => "application/x-wb3",
        ".wbmp" => "image/vnd.wap.wbmp",
        ".wiz" => "application/msword",
        ".wk3" => "application/x-wk3",
        ".wk4" => "application/x-wk4",
        ".wkq" => "application/x-wkq",
        ".wks" => "application/x-wks",
        ".wm" => "video/x-ms-wm",
        ".wma" => "audio/x-ms-wma",
        ".wmd" => "application/x-ms-wmd",
        ".wmf" => "application/x-wmf",
        ".wml" => "text/vnd.wap.wml",
        ".wmv" => "video/x-ms-wmv",
        ".wmx" => "video/x-ms-wmx",
        ".wmz" => "application/x-ms-wmz",
        ".wp6" => "application/x-wp6",
        ".wpd" => "application/x-wpd",
        ".wpg" => "application/x-wpg",
        ".wpl" => "application/vnd.ms-wpl",
        ".wq1" => "application/x-wq1",
        ".wr1" => "application/x-wr1",
        ".wri" => "application/x-wri",
        ".wrk" => "application/x-wrk",
        ".ws" => "application/x-ws",
        ".ws2" => "application/x-ws",
        ".wsc" => "text/scriptlet",
        ".wsdl" => "text/xml",
        ".wvx" => "video/x-ms-wvx",
        ".xdp" => "application/vnd.adobe.xdp",
        ".xdr" => "text/xml",
        ".xfd" => "application/vnd.adobe.xfd",
        ".xfdf" => "application/vnd.adobe.xfdf",
        ".xhtml" => "text/html",
        ".xls" => "application/x-xls",
        ".xlw" => "application/x-xlw",
        ".xml" => "text/xml",
        ".xpl" => "audio/scpls",
        ".xq" => "text/xml",
        ".xql" => "text/xml",
        ".xquery" => "text/xml",
        ".xsd" => "text/xml",
        ".xsl" => "text/xml",
        ".xslt" => "text/xml",
        ".xwd" => "application/x-xwd",
        ".x_b" => "application/x-x_b",
        ".sis" => "application/vnd.symbian.install",
        ".sisx" => "application/vnd.symbian.install",
        ".x_t" => "application/x-x_t",
        ".ipa" => "application/vnd.iphone",
        ".apk" => "application/vnd.android.package-archive",
        ".xap" => "application/x-silverlight-app",
        _ => "",
    };

    if content_type.is_empty() {
        None
    } else {
        Some(content_type)
    }
}

pub fn as_extension(content_type: Option<&str>) -> Option<&'static str> {
    let content = content_type?;
    let ext = match content {
        "application/octet-stream" => ".*",
        "application/x-001" => ".001",
        "application/x-301" => ".301",
        "text/h323" => ".323",
        "application/x-906" => ".906",
        "drawing/907" => ".907",
        "application/x-a11" => ".a11",
        "audio/x-mei-aac" => ".acp",
        "application/postscript" => ".ai",
        "audio/aiff" => ".aif",
        "application/x-anv" => ".anv",
        "text/asa" => ".asa",
        "video/x-ms-asf" => ".asf",
        "text/asp" => ".asp",
        "audio/basic" => ".au",
        "video/avi" => ".avi",
        "application/vnd.adobe.workflow" => ".awf",
        "application/x-bmp" => ".bmp",
        "application/x-bot" => ".bot",
        "application/x-c4t" => ".c4t",
        "application/x-c90" => ".c90",
        "application/x-cals" => ".cal",
        "application/vnd.ms-pki.seccat" => ".cat",
        "application/x-netcdf" => ".cdf",
        "application/x-cdr" => ".cdr",
        "application/x-cel" => ".cel",
        "application/x-x509-ca-cert" => ".cer",
        "application/x-g4" => ".cg4",
        "application/x-cgm" => ".cgm",
        "application/x-cit" => ".cit",
        "java/*" => ".class",
        "application/x-cmp" => ".cmp",
        "application/x-cmx" => ".cmx",
        "application/x-cot" => ".cot",
        "application/pkix-crl" => ".crl",
        "application/x-csi" => ".csi",
        "text/css" => ".css",
        "application/x-cut" => ".cut",
        "application/x-dbf" => ".dbf",
        "application/x-dbm" => ".dbm",
        "application/x-dbx" => ".dbx",
        "application/x-dcx" => ".dcx",
        "application/x-dgn" => ".dgn",
        "application/x-dib" => ".dib",
        "application/x-msdownload" => ".dll",
        "application/msword" => ".doc",
        "application/x-drw" => ".drw",
        "application/x-dwf" => ".dwf",
        "application/x-dwg" => ".dwg",
        "application/x-dxb" => ".dxb",
        "application/x-dxf" => ".dxf",
        "application/vnd.adobe.edn" => ".edn",
        "application/x-emf" => ".emf",
        "message/rfc822" => ".eml",
        "application/x-epi" => ".epi",
        "application/x-ebx" => ".etd",
        "image/fax" => ".fax",
        "application/vnd.fdf" => ".fdf",
        "application/fractals" => ".fif",
        "application/x-frm" => ".frm",
        "application/x-gbr" => ".gbr",
        "application/x-" => ".",
        "image/gif" => ".gif",
        "application/x-gl2" => ".gl2",
        "application/x-gp4" => ".gp4",
        "application/x-hgl" => ".hgl",
        "application/x-hmr" => ".hmr",
        "application/x-hpgl" => ".hpg",
        "application/x-hpl" => ".hpl",
        "application/mac-binhex40" => ".hqx",
        "application/x-hrf" => ".hrf",
        "application/hta" => ".hta",
        "text/x-component" => ".htc",
        "text/html" => ".html",
        "text/webviewhtml" => ".htt",
        "application/x-icb" => ".icb",
        "image/x-icon" => ".ico",
        "application/x-iff" => ".iff",
        "application/x-igs" => ".igs",
        "application/x-iphone" => ".iii",
        "application/x-img" => ".img",
        "application/x-internet-signup" => ".isp",
        "video/x-ivf" => ".IVF",
        "image/jpeg" => ".jpg",
        "application/x-javascript" => ".js",
        "application/json" => ".json",
        "audio/x-liquid-file" => ".la1",
        "application/x-laplayer-reg" => ".lar",
        "application/x-latex" => ".latex",
        "audio/x-liquid-secure" => ".lavs",
        "application/x-lbm" => ".lbm",
        "audio/x-la-lms" => ".lmsff",
        "application/x-ltr" => ".ltr",
        "video/x-mpeg" => ".m1v",
        "audio/mpegurl" => ".m3u",
        "application/x-mac" => ".mac",
        "application/x-troff-man" => ".man",
        "application/x-mdb" => ".mdb",
        "application/x-shockwave-flash" => ".mfp",
        "application/x-mi" => ".mi",
        "audio/mid" => ".mid",
        "application/x-mil" => ".mil",
        "audio/x-musicnet-download" => ".mnd",
        "audio/x-musicnet-stream" => ".mns",
        "video/x-sgi-movie" => ".movie",
        "audio/mp1" => ".mp1",
        "audio/mp2" => ".mp2",
        "video/mpeg" => ".mp2v",
        "audio/mp3" => ".mp3",
        "video/mpeg4" => ".mp4",
        "video/x-mpg" => ".mpa",
        "application/vnd.ms-project" => ".mpd",
        "audio/rn-mpeg" => ".mpga",
        "video/mpg" => ".mpv",
        "application/x-mmxp" => ".mxp",
        "image/pnetvue" => ".net",
        "application/x-nrf" => ".nrf",
        "text/x-ms-odc" => ".odc",
        "application/x-out" => ".out",
        "application/pkcs10" => ".p10",
        "application/x-pkcs12" => ".p12",
        "application/x-pkcs7-certificates" => ".p7b",
        "application/pkcs7-mime" => ".p7c",
        "application/x-pkcs7-certreqresp" => ".p7r",
        "application/pkcs7-signature" => ".p7s",
        "application/x-pc5" => ".pc5",
        "application/x-pci" => ".pci",
        "application/x-pcl" => ".pcl",
        "application/x-pcx" => ".pcx",
        "application/pdf" => ".pdf",
        "application/vnd.adobe.pdx" => ".pdx",
        "application/x-pgl" => ".pgl",
        "application/x-pic" => ".pic",
        "application/vnd.ms-pki.pko" => ".pko",
        "application/x-perl" => ".pl",
        "audio/scpls" => ".pls",
        "application/x-plt" => ".plt",
        "image/png" => ".png",
        "application/x-ppm" => ".ppm",
        "application/vnd.ms-powerpoint" => ".ppt",
        "application/x-pr" => ".pr",
        "application/pics-rules" => ".prf",
        "application/x-prn" => ".prn",
        "application/x-prt" => ".prt",
        "application/x-ps" => ".ps",
        "application/x-ptn" => ".ptn",
        "text/vnd.rn-realtext3d" => ".r3t",
        "audio/vnd.rn-realaudio" => ".ra",
        "audio/x-pn-realaudio" => ".ram",
        "application/x-ras" => ".ras",
        "application/rat-file" => ".rat",
        "application/vnd.rn-recording" => ".rec",
        "application/x-red" => ".red",
        "application/x-rgb" => ".rgb",
        "application/vnd.rn-realsystem-rjs" => ".rjs",
        "application/vnd.rn-realsystem-rjt" => ".rjt",
        "application/x-rlc" => ".rlc",
        "application/x-rle" => ".rle",
        "application/vnd.rn-realmedia" => ".rm",
        "application/vnd.adobe.rmf" => ".rmf",
        "application/vnd.rn-realsystem-rmj" => ".rmj",
        "application/vnd.rn-rn_music_package" => ".rmp",
        "application/vnd.rn-realmedia-secure" => ".rms",
        "application/vnd.rn-realmedia-vbr" => ".rmvb",
        "application/vnd.rn-realsystem-rmx" => ".rmx",
        "application/vnd.rn-realplayer" => ".rnx",
        "image/vnd.rn-realpix" => ".rp",
        "audio/x-pn-realaudio-plugin" => ".rpm",
        "application/vnd.rn-rsml" => ".rsml",
        "text/vnd.rn-realtext" => ".rt",
        "video/vnd.rn-realvideo" => ".rv",
        "application/x-sam" => ".sam",
        "application/x-sat" => ".sat",
        "application/sdp" => ".sdp",
        "application/x-sdw" => ".sdw",
        "application/x-stuffit" => ".sit",
        "application/x-slb" => ".slb",
        "application/x-sld" => ".sld",
        "drawing/x-slk" => ".slk",
        "application/smil" => ".smi",
        "application/x-smk" => ".smk",
        "application/futuresplash" => ".spl",
        "application/streamingmedia" => ".ssm",
        "application/vnd.ms-pki.certstore" => ".sst",
        "application/vnd.ms-pki.stl" => ".stl",
        "application/x-sty" => ".sty",
        "application/x-tdf" => ".tdf",
        "application/x-tg4" => ".tg4",
        "application/x-tga" => ".tga",
        "image/tiff" => ".tif",
        "drawing/x-top" => ".top",
        "application/x-bittorrent" => ".torrent",
        "text/plain" => ".txt",
        "application/x-icq" => ".uin",
        "text/iuls" => ".uls",
        "text/x-vcard" => ".vcf",
        "application/x-vda" => ".vda",
        "application/x-vpeg005" => ".vpg",
        "application/vnd.visio" => ".vsx",
        "audio/wav" => ".wav",
        "audio/x-ms-wax" => ".wax",
        "application/x-wb1" => ".wb1",
        "application/x-wb2" => ".wb2",
        "application/x-wb3" => ".wb3",
        "image/vnd.wap.wbmp" => ".wbmp",
        "application/x-wk3" => ".wk3",
        "application/x-wk4" => ".wk4",
        "application/x-wkq" => ".wkq",
        "application/x-wks" => ".wks",
        "video/x-ms-wm" => ".wm",
        "audio/x-ms-wma" => ".wma",
        "application/x-ms-wmd" => ".wmd",
        "application/x-wmf" => ".wmf",
        "text/vnd.wap.wml" => ".wml",
        "video/x-ms-wmv" => ".wmv",
        "video/x-ms-wmx" => ".wmx",
        "application/x-ms-wmz" => ".wmz",
        "application/x-wp6" => ".wp6",
        "application/x-wpd" => ".wpd",
        "application/x-wpg" => ".wpg",
        "application/vnd.ms-wpl" => ".wpl",
        "application/x-wq1" => ".wq1",
        "application/x-wr1" => ".wr1",
        "application/x-wri" => ".wri",
        "application/x-wrk" => ".wrk",
        "application/x-ws" => ".ws",
        "text/scriptlet" => ".wsc",
        "video/x-ms-wvx" => ".wvx",
        "application/vnd.adobe.xdp" => ".xdp",
        "application/vnd.adobe.xfd" => ".xfd",
        "application/vnd.adobe.xfdf" => ".xfdf",
        "application/x-xls" => ".xls",
        "application/x-xlw" => ".xlw",
        "text/xml" => ".xml",
        "application/x-xwd" => ".xwd",
        "application/x-x_b" => ".x_b",
        "application/vnd.symbian.install" => ".sis",
        "application/x-x_t" => ".x_t",
        "application/vnd.iphone" => ".ipa",
        "application/vnd.android.package-archive" => ".apk",
        "application/x-silverlight-app" => ".xap",

        _ => "",
    };
    if ext.is_empty() {
        None
    } else {
        Some(ext)
    }
}
